:root{
  --bg:#0c1222;
  --table:#184b8a;
  --table-2:#0f63c2;
  --accent:#ffca28;
  --good:#37d67a;
  --bad:#ff5f57;
  --power:#9b59b6;
  --text:#f7f8fc;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background: #001;
  color:var(--text);
  font-family:'Nunito', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
}

.table{position:relative}
.table::before{
  content:"";
  position:absolute; inset:0;
  background: url('assets/bg.jpeg') center/cover no-repeat fixed;
  opacity:.4; pointer-events:none;
}

.app-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 16px;
}
.app-header h1{
  font-family:'Baloo 2', cursive; letter-spacing:0.5px; margin:0; font-size:28px;
  text-shadow:0 2px 0 rgba(0,0,0,.3);
}

.btn{cursor:pointer; border:none; padding:10px 16px; border-radius:999px; background:#ffffff1a; color:var(--text); transition:.2s transform, .2s filter;}
.btn:hover{transform:translateY(-1px); filter:brightness(1.08)}
.btn.primary{background:linear-gradient(135deg, #ff8a00, #ff3d77); color:white; font-weight:800}
.btn.hidden{display:none}

.table{max-width:none; width:100%; min-height:100vh; display:flex; flex-direction:column; padding:8px 16px 24px}
.scoreboard{
  display:grid; grid-template-columns:repeat(auto-fit, minmax(220px,1fr)); gap:10px; margin-bottom:16px;
}
.player-card{
  background:rgba(15,25,50,.2); border-radius:16px; padding:10px 12px; position:relative; overflow:hidden;
  box-shadow:0 6px 18px rgba(0,0,0,.25); backdrop-filter: blur(12px);
  border:1px solid #ffffff2a;
}
.player-card.turn{
  box-shadow:0 0 0 3px #00e676 inset, 0 10px 24px rgba(0,0,0,.35);
  border-color:#00e676;
}
.player-card .name{font-weight:800; font-size:18px}
.player-card .stats{display:flex; gap:8px; margin-top:6px; font-weight:700}
.chip{padding:4px 8px; border-radius:999px; font-size:12px}
.chip.ldl{background:linear-gradient(135deg, #ff8b94, #ff5f57)}
.chip.hdl{background:linear-gradient(135deg, #9be15d, #00e3ae)}
.chip.total{background:linear-gradient(135deg, #f6d365, #fda085)}
.turn-badge{position:absolute; right:8px; top:8px; background:#fff; color:#111; border-radius:8px; padding:2px 6px; font-size:11px; font-weight:900}

.center-stage{flex:1; display:flex; align-items:center; justify-content:center; gap:18px; margin:24px 0}
.pile{width:140px; height:210px; border-radius:18px; background:#ffffff0f; border:3px dashed #ffffff2a; display:flex; align-items:center; justify-content:center; position:relative}
.pile.center{grid-column:2;}
.turn-indicator{font-weight:800; font-size:18px; text-align:center}

.player-hand{display:flex; flex-wrap:wrap; gap:10px; justify-content:center; perspective:1000px; min-height:240px}

.card{width:120px; height:180px; border-radius:18px; padding:10px; position:relative; color:white; transform-style:preserve-3d; transition:transform .2s ease, filter .2s ease, box-shadow .2s ease; background:transparent; border:1px solid #ffffff33; box-shadow:0 10px 24px rgba(0,0,0,.35)}
.card:hover{transform:translateY(-6px) rotateZ(-1deg); filter:brightness(1.05); box-shadow:0 12px 24px rgba(0,0,0,.45)}
.card .title{font-weight:900; font-size:16px; text-shadow:0 2px 0 rgba(0,0,0,.3)}
.card .points{position:absolute; bottom:10px; left:10px; font-weight:900; font-size:20px}
.card .type{position:absolute; top:10px; right:10px; font-size:12px; font-weight:800}
.card .img{position:absolute; inset:0; opacity:1; background-size:cover; background-repeat:no-repeat; background-position:center}
.card.junk{background:transparent}
.card.heal{background:transparent}
.card.power{background:transparent}

.hidden{display:none}

.modal{position:fixed; inset:0; display:none; align-items:center; justify-content:center; padding:16px; background:rgba(4,6,14,.6); backdrop-filter: blur(6px);}
.modal.visible{display:flex}
.modal-content{background:#0e1a33; border:2px solid #ffffff1a; border-radius:16px; box-shadow:0 20px 60px rgba(0,0,0,.5); max-width:680px; width:100%; padding:18px}
.modal-content h2{margin:0 0 8px 0; font-family:'Baloo 2', cursive}
.form-row{margin:10px 0}
.form-row input{width:100%; padding:10px 12px; border-radius:10px; border:2px solid #ffffff22; background:#0b1530; color:var(--text)}
.modal-actions{display:flex; gap:10px; justify-content:flex-end; margin-top:16px}

/* Animations */
@keyframes dealCard{
  0%{transform:translate3d(0,-40px,200px) rotate(-10deg); opacity:0}
  100%{transform:translate3d(0,0,0) rotate(0); opacity:1}
}
.deal-anim{animation:dealCard .4s ease forwards}

@keyframes throwCard{
  0%{transform:translateY(0) scale(1)}
  60%{transform:translate(-140px,-160px) rotate(-10deg) scale(1.05)}
  100%{transform:translate(-140px,-160px) rotate(-14deg) scale(1)}
}
.throw-anim{animation:throwCard .5s ease forwards}

/* directional throw helpers */
@keyframes throwFromBottom{0%{transform:translateY(0) scale(1)}100%{transform:translate(-140px,-160px) rotate(-12deg)}}
@keyframes throwFromTop{0%{transform:translateY(0) scale(1)}100%{transform:translate(-140px,160px) rotate(12deg)}}
@keyframes throwFromLeft{0%{transform:translateX(0) scale(1)}100%{transform:translate(80px,-80px) rotate(6deg)}}
@keyframes throwFromRight{0%{transform:translateX(0) scale(1)}100%{transform:translate(-320px,-80px) rotate(-6deg)}}
.throw-bottom{animation:throwFromBottom .5s ease forwards}
.throw-top{animation:throwFromTop .5s ease forwards}
.throw-left{animation:throwFromLeft .5s ease forwards}
.throw-right{animation:throwFromRight .5s ease forwards}

@keyframes winPop{
  0%{transform:scale(.8); opacity:.3}
  100%{transform:scale(1); opacity:1}
}
.win-pop{animation:winPop .3s ease-out}

/* Summary tidy */
.summary-grid{display:grid; grid-template-columns:1fr 1fr; gap:12px}
@media (max-width: 720px){
  .summary-grid{grid-template-columns:1fr}
}
.leaderboard .row{display:flex; align-items:center; justify-content:space-between; padding:10px 12px; border-radius:12px; background:linear-gradient(135deg,#1f2a44,#162036)}
.leaderboard .rank{font-weight:900; font-size:18px; width:40px; text-align:center}
.leaderboard .name{font-weight:800}
.leaderboard .chips{display:flex; gap:8px}

.avatar{width:28px; height:28px; display:inline-flex; align-items:center; justify-content:center; background:#ffffff1a; border-radius:50%; box-shadow: inset 0 0 0 2px #ffffff22}
.medal{font-size:22px}

/* colorful accents */
.chip.ldl{box-shadow:0 6px 10px rgba(255,95,87,.25)}
.chip.hdl{box-shadow:0 6px 10px rgba(0,227,174,.25)}
.chip.total{box-shadow:0 6px 10px rgba(253,160,133,.25)}

/* leaderboard table */
.table-wrap{overflow:auto; max-height:60vh; border-radius:12px; border:1px solid #ffffff14; background:#0c162d80; backdrop-filter: blur(6px)}
.lb-table{width:100%; border-collapse:collapse; min-width:540px}
.lb-table thead th{position:sticky; top:0; background:#0e1a33; z-index:1}
.lb-table th, .lb-table td{padding:10px 12px; text-align:left}
.lb-table tbody tr:nth-child(odd){background:#ffffff07}
.lb-table tbody tr:nth-child(even){background:#ffffff03}
.lb-table tbody tr:hover{background:#ffffff12}
.lb-table th:first-child, .lb-table td:first-child{width:50px}



